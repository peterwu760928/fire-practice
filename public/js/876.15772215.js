"use strict";(self["webpackChunkfire_practice"]=self["webpackChunkfire_practice"]||[]).push([[876],{1876:function(e,a,n){n.r(a),n.d(a,{default:function(){return V}});var t=n(6768),l=(n(4114),n(5130)),o=n(4232),r=n(3165),d=n(9675),u=n(144),c=n(3697);const i=e=>((0,t.Qi)("data-v-c0335fac"),e=e(),(0,t.jt)(),e),p={class:"content"},s=i((()=>(0,t.Lk)("h3",null,"我的表格",-1))),k={class:"form"},m=i((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("td",null,"ID"),(0,t.Lk)("td",null,"Name"),(0,t.Lk)("td",null,"Year"),(0,t.Lk)("td",null,"Updater"),(0,t.Lk)("td")],-1))),y=["onUpdate:modelValue"],L=["onUpdate:modelValue"],b=["onClick"],h=["onClick"];var v=(0,t.pM)({__name:"MineTable",setup(e){const a=(0,c.o)(),n=(0,u.KR)([]);let i;const v=(0,u.Kh)({name:(0,u.KR)(""),year:(0,u.KR)(0)});(0,t.sV)((()=>{const e=(0,d.P)((0,d.rJ)(r.db,"dina"),(0,d.My)("year","desc"));i=(0,d.aQ)(e,(e=>{n.value=[],e.forEach((e=>{n.value.push({id:e.id,name:e.data().name,year:e.data().year,updater:e.data().updater})}))}))})),(0,t.hi)((()=>{i&&i()}));const f=async()=>{try{const e=await(0,d.gS)((0,d.rJ)(r.db,"dina"),{name:v.name,year:v.year,updater:a.isUser.email});console.log("Document written with ID: ",e.id)}catch(e){console.error("Error adding document: ",e)}finally{v.name="",v.year=0}},C=async e=>{const n=(0,d.H9)(r.db,"dina",e.id);try{await(0,d.mZ)(n,{name:e.name,year:e.year,updater:a.isUser.email})}catch(t){console.error("Error: ",t)}},U=async e=>{const a=(0,d.H9)(r.db,"dina",e.id);try{await(0,d.kd)(a)}catch(n){console.error("Error: ",n)}};return(e,a)=>((0,t.uX)(),(0,t.CE)("div",p,[s,(0,t.Lk)("div",k,[(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>v.name=e),placeholder:"name"},null,512),[[l.Jo,v.name]]),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>v.year=e),placeholder:"year"},null,512),[[l.Jo,v.year]]),(0,t.Lk)("button",{onClick:f},"Send")]),(0,t.Lk)("table",null,[m,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.value,(e=>((0,t.uX)(),(0,t.CE)("tr",{key:e},[(0,t.Lk)("td",null,(0,o.v_)(e.id),1),(0,t.Lk)("td",null,[(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.name=a},null,8,y),[[l.Jo,e.name]])]),(0,t.Lk)("td",null,[(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.year=a},null,8,L),[[l.Jo,e.year]])]),(0,t.Lk)("td",null,[(0,t.Lk)("p",null,(0,o.v_)(e.updater),1)]),(0,t.Lk)("td",null,[(0,t.Lk)("button",{onClick:(0,l.D$)((a=>C(e)),["stop"])},"Update",8,b),(0,t.Lk)("button",{onClick:(0,l.D$)((a=>U(e)),["stop"])},"Remove",8,h)])])))),128))])])]))}}),f=n(1241);const C=(0,f.A)(v,[["__scopeId","data-v-c0335fac"]]);var U=C;const _=(0,t.Lk)("p",null,"Welcome to Mine",-1);var w=(0,t.pM)({__name:"MineView",setup(e){return(e,a)=>((0,t.uX)(),(0,t.CE)(t.FK,null,[_,(0,t.bF)(U)],64))}});const E=w;var V=E}}]);
//# sourceMappingURL=876.15772215.js.map